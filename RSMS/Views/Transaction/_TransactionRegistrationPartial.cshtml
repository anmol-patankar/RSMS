@model RSMS.ViewModels.TotalTransactionModel

<div class="modal-content">
    <div class="modal-header">
        <h5 class="modal-title">Add New Product Stock</h5>
        <button type="button" class="close btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>
    <div class="modal-body">

        <form id="registerNewTransactionForm" asp-action="AddNewTransaction" asp-controller="Transaction" method="post">


            <button type="submit" class="btn btn-primary">Add Transaction</button>
        </form>

    </div>
</div>
<script>
    $(document).ready(function () {
        $('#registerNewTransactionForm').submit(function (event) {
            event.preventDefault();

            $.ajax({
                url: $(this).attr('action'),
                type: $(this).attr('method'),
                data: $(this).serialize(),
                success: function (response) {
                    if (response.success) {
                        debugger;
                        // Close the modal on success
                        $('#transactionRegistrationModal').modal('hide');
                        // Optionally refresh the part of the page that shows the list of stores
                        //$('#"v-pills-stores').load('/Store/GetStores'); // Example of reloading a part of the page
                    } else {
                        $('#transactionregistration-modal-content').html(response);
                    }
                },
                error: function () {
                    alert('An error occurred while adding the store.');
                }
            });
        });
    });
</script>